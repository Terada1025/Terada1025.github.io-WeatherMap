<!DOCTYPE html>
<html ng-app="myApp">
<head>
<meta charset="UTF-8" />
<title>校内　案内</title>
<style>
  #map {
    height:100%;
  }
  html, body {
    height:100%;
    margin:0;
    padding:0;
  }
</style>
</head>
<body ng-controller="MyController">
<img ng-src="{{weather}}" />
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBaBFzNFrqUTEgvsnlDByKwfAfsfE6JWgU&v=beta&callback=initRoute"></script>
<!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAqtfJGYD7I-iWid3v3VifUnNAtUuSznec&v=beta&callback=initLenge"></script>-->
<script src="./RouteMap.js"></script>
<script>
// var images_src = new Array("images/0.jpeg","pics/1.jpeg","pics/2.jpeg","pics/3.jpeg","pics/4.jpeg","pics/5.jpeg","pics/6.jpeg","pics/7.jpeg","pics/8.jpeg","pics/9.jpeg","pics/10.jpeg","pics/11.jpeg","pics/12.jpeg","pics/13.jpeg","pics/14.jpeg","pics/15.jpeg","pics/16.jpeg","pics/17.jpeg","pics/18.jpeg");
var num = 0;
var numm = 0;

//部屋番号
function check(n){
  var building = "教室";
  var floor = "エラー"
  switch(n){
    case "キャリアセンター":
    case "メディアセンター":
    case "1-301":
    case "1-303":
    case "1-401":
    case "1-501":
    case "1-502":
    case "1-601":
    case "1-602":
    case "1-701":
      building = "1号館";
      num = 1;
      break;
    case "B101":
    case "Gギャラリー":
      building = "新2号館";
      num = 2;
      break;
    case "C1215":
    case "C1315":
    case "C1401":
    case "C1411":
      building = "3号館";
      num = 3;
      break;
    case "K401":
    case "K404":
      building = "4号館";
      num = 4;
      break;
    case "機器実験室":
    case "計測実験室":
    case "ER221":
    case "ER222":
    case "ER321":
    case "ER322":
    case "ER323":
    case "ER324":
      building = "5号館";
      num = 5;
      break;
    case "7-201":
    case "7-202":
    case "7-203":
    case "7-205":
    case "7-206":
      building = "7号館";
      num = 6;
      break;
    case "8-102":
    case "8-104":
    case "8-201":
    case "8-203":
    case "8-205":
    case "8-303":
    case "8-304":
      building = "8号館";
      num = 7;
      break;
    case "G3201":
    case "G3202":
    case "G3203":
    case "G3301":
    case "G3302":
    case "G3303":
    case "G3401":
    case "G3402":
    case "G3403":
    case "G3501":
    case "G3502":
    case "G3503":
    case "G3504":
      building = "9号館";
      num = 8;
      break;
    case "G2208":
    case "G2209":
    case "G2309":
    case "G2310":
    case "G2311":
    case "G2407":
    case "G2408":
    case "G2409":
    case "G2505":
    case "G2506":
    case "G2507":
      building = "10号館";
      num = 9;
      break;
    case "11-101":
    case "11-201":
    case "11-301":
    case "11-401":
      building = "11号館";
      num = 10;
      break;
    case "12-201":
    case "12-202":
    case "12-303":
      building = "12号館";
      num = 11;
      break;
    case "13-101":
    case "13-201":
    case "13-301":
    case "13-401":
      building = "13号館";
      num = 12;
      break;
    case "G151":
    case "G152":
    case "G251":
    case "G252":
      building = "1号館別館";
      num = 13;
      break;
    case "C2101":
      building = "3号館別館";
      num = 14;
      break;
    case "G2110":
    case "G2210":
      building = "10号館大講義室";
      num = 15;
      break;
    case "情教実習室A":
    case "情教実習室B":
      building = "情報教育センター";
      num = 16;
      break;
    case "セー講義室":
    case "マイコン室1":
    case "マイコン室2":
    case "セー実習室1":
    case "セー実習室2":
      building = "計算センター";
      num = 17;
      break;
    default:
      num = 18;
      break;
  }
  switch(n){
    case "G151":
    case "G152":
    case "機器実験室":
    case "計測実験室":
    case "11-101":
    case "13-101":
    case "セー講義室":
    case "C2101":
    case "8-102":
    case "8-104":
    case "G2110":
      floor = "1F";
      break;
    case "キャリアセンター":
    case "メディアセンター":
    case "G2208":
    case "G2209":
    case "G251":
    case "G252":
    case "G3201":
    case "G3202":
    case "G3203":
    case "7-201":
    case "7-202":
    case "7-203":
    case "7-205":
    case "7-206":
    case "ER221":
    case "ER222":
    case "11-201":
    case "13-201":
    case "情教実習室A":
    case "C1215":
    case "8-201":
    case "8-203":
    case "8-205":
    case "12-201":
    case "12-202":
    case "G2210":
      floor = "2F";
      break;
    case "G2309":
    case "G2310":
    case "G2311":
    case "G3301":
    case "G3302":
    case "G3303":
    case "ER321":
    case "ER322":
    case "ER323":
    case "ER324":
    case "11-301":
    case "13-301":
    case "情教実習室B":
    case "マイコン室1":
    case "マイコン室2":
    case "セー実習室1":
    case "C1315":
    case "8-303":
    case "8-304":
    case "12-303":
    case "1-301":
    case "1-303":
      floor = "3F";
      break;
    case "G2407":
    case "G2408":
    case "G2409":
    case "G3401":
    case "G3402":
    case "G3403":
    case "K401":
    case "K404":
    case "11-401":
    case "13-401":
    case "セー実習室2":
    case "C1401":
    case "C1411":
    case "1-401":
      floor = "4F";
      break;
    case "G2505":
    case "G2506":
    case "G2507":
    case "G3501":
    case "G3502":
    case "G3503":
    case "G3504":
    case "1-501":
    case "1-502":
      floor = "5F";
      break;
    case "1-601":
    case "1-602":
      floor = "6F";
      break;
    case "1-701":
      floor = "7F";
      break;
    case "B101":
      floor = "B1F";
      break;
    case "Gギャラリー":
      floor = "B2F";
      break;
    default:
      break;
  }
  var g = document.getElementById('guest');
  g.value = n + "は" + building + "の" + floor + "　下のボタンより選んで下さい";
  // document.getElementById("mypic").src=images_src[num];
}


//天気
angular.module('myApp', [])
  .controller('MyController', ['$scope', '$http', function($scope, $http) {
    $scope.onclick = function(w) {
      $http.jsonp('http://api.openweathermap.org/data/2.5/weather',
        {
          params: {
            callback: 'JSON_CALLBACK',  // 1コールバック関数の名前
            id: $scope.city,            // コード
            lat: 35.1834122,
            lon: 137.1108532,
            APPID: 'c79b8ff1d56f9c7d9a242382f719ceb4'  // キー
          }
        }
      )
      // Web APIの結果に基づいて天気アイコンを表示
      .success(function(data) {
        $scope.weather =  'http://openweathermap.org/img/w/' + data.weather[0].icon +'.png';

      }
    )
      .error(function(err) {
        console.log(err);
      }
    );

    };

  }]);

</script>


<main>


<form>
  <!-- 目的地検索 -->
    <input type="text" name="number" id="searchbox"　value="" placeholder="教室を入力"></label>
    <input type="button" ng-click="onclick()" id=searchbutton value="検索" onclick="check(number.value)">

    <p align="center"><output id="guest"></output></p>

  <!-- 出発点 -->
  <select id="startpoint">
      <option value="0">現在地</option>
      <option value="1">1号館</option>
      <option value="2">1号館別館</option>
      <option value="3">新2号館</option>
      <option value="4">2号館実験棟</option>
      <option value="5">3号館</option>
      <option value="6">4号館</option>
      <option value="7">4号館別館</option>
      <option value="8">5号館</option>
      <option value="9">6号館</option>
      <option value="10">7号館</option>
      <option value="11">8号館</option>
      <option value="12">9号館</option>
      <option value="13">10号館</option>
      <option value="14">11号館</option>
      <option value="15">12号館</option>
      <option value="16">13号館</option>
      <option value="17">本部棟</option>
      <option value="18">第2本部棟</option>
      <option value="19">情報教育センター</option>
      <option value="20">図書館</option>
      <option value="21">計算センター</option>
      <option value="22">総合技術研究所</option>
      <option value="23">セントラルテラス</option>
      <option value="24">愛和会館</option>
      <option value="25">AITプラザ</option>
      <option value="26">駐車場ゲート</option>
      <option value="27">鉀徳館</option>
      <option value="28">正門</option>
  </select>

から

<!-- 目的地 -->
<select id="goalpoint">
    <option value="0">目的地</option>
    <option value="1">1号館</option>
    <option value="2">1号館別館</option>
    <option value="3">新2号館</option>
    <option value="4">2号館実験棟</option>
    <option value="5">3号館</option>
    <option value="6">4号館</option>
    <option value="7">4号館別館</option>
    <option value="8">5号館</option>
    <option value="9">6号館</option>
    <option value="10">7号館</option>
    <option value="11">8号館</option>
    <option value="12">9号館</option>
    <option value="13">10号館</option>
    <option value="14">11号館</option>
    <option value="15">12号館</option>
    <option value="16">13号館</option>
    <option value="17">本部棟</option>
    <option value="18">第2本部棟</option>
    <option value="19">情報教育センター</option>
    <option value="20">図書館</option>
    <option value="21">計算センター</option>
    <option value="22">総合技術研究所</option>
    <option value="23">セントラルテラス</option>
    <option value="24">愛和会館</option>
    <option value="25">AITプラザ</option>
    <option value="26">駐車場ゲート</option>
    <option value="27">鉀徳館</option>
    <option value="28">正門</option>
</select>

<input type="button" value="決定" onclick="initRoute()"/>

<div class="container">
<!-- <section>
    <p align="center">h<output id="place"></output></p>
    <div  id="now">
        <div id="weather">
        </div>
    </div>
</section> -->

  <!-- <p align="center">h<output id="weatherpp"></output></p> -->

  <p>距離：<span id="lenge"></span></p>　<!-- lengeに距離が入っている -->
  <p>所要時間：<span id="time"></span></p>


  <div class="mapimg">
      <!-- <img src="images/Map.jpg" width=80%> -->
      <img class="start_pin" id="goal_1s" width=80%>
      <!-- <img class="start_pin"  src="images/ru-to/1-4.jpg" width=80%> -->
  </div>

</form>

  <!-- <p class="img_center"><img id="mypic" src="images/Map.jpg" width="996" height="560"></p> -->

</main>

<script src="script.js">change()</script>
<script src="../_common/scripts/jquery-3.4.1.min.js"></script>
<div id="map"></div>

</body>
</html>
